
{{include file="elements/maps/init.shtml" zoomW="400" zoomH="300"}}

{{* ################################ BEGIN javascript ################################ *}}
<script type="text/javascript">
	{{foreach from=$maps item=map}}
		{{include file="elements/maps/genjscript.shtml" map=$map}}
	{{/foreach}}
</script>
{{* ################################ END javascript ################################ *}}




{{* ################################ BEGIN css ################################ *}}
<style type="text/css">
	{{foreach from=$maps item=map}}
		{{include file="elements/maps/gencss.shtml" map=$map}}
	{{/foreach}}
</style>
{{* ################################ END css ################################ *}}




{{* ################################ BEGIN form ################################ *}}
<form action="" name="locationEditor" method="post">

	<div class="outerbox" align="center">
	choose a building:
		<select NAME="locName">
			<option value=""></option>
			{{foreach from=$locations item=location}}
				
				
				{{if $location->map}}
					<option value="{{$location->name}}">
					***DONE***
					[{{$location->map|upper}}] ({{$location->x}},{{$location->y}}) :: {{$location->name}}
				
				{{else}}
					<option value="{{$location->name}}" {{if $ALREADYSELECTED == false}}selected {{assign var="ALREADYSELECTED" value=true}}{{/if}}>
					{{$location->name}}
				
				{{/if}}
								
			{{/foreach}}
		</select>

		<br><br>
	</div>
	
	{{*---------begin maps----------*}}
	<table>
		{{foreach from=$maps item=map}}
		<tr>
			<td class="normaltext" style="border: 0px solid black;" valign="top">
				<br>
				<b>{{$map->title}}</b>

				<br>
				({{$map->large.x}} x {{$map->large.y}})

				<br><br>
				
				<div id="mapThumb_{{$map->name}}" onclick="move_large(event,'mapLarge_{{$map->name}}',this,mapLargeScale_{{$map->name}},mapZoomContainerSize,'mapThumbPrevBox_{{$map->name}}',true)" onmousemove="move_large(event,'mapLarge_{{$map->name}}',this,mapLargeScale_{{$map->name}},mapZoomContainerSize,'mapThumbPrevBox_{{$map->name}}')" onmousedown="move_large_allow()" onmouseup="move_large_disallow()">
					<div id="mapThumbPrevBox_{{$map->name}}" class="mapPreviewBox"></div>
				</div>
			</td>
			<td>

				<div class="mapZoomContainer">
					<div id="mapLarge_{{$map->name}}">
						<input name="{{$map->name}}" type="image" src="{{$cfg.maps.path}}/{{$map->name}}_large.{{$cfg.maps.ext}}">
					</div>
				</div>
			</td>
		</tr>
		{{/foreach}}
	</table>
	{{*----------end maps---------*}}

	<br><br>
	
	<div class="outerbox" align="center">
		<input type="submit" name="noMapFound" value="{{$smarty.const._ADMIN_CLICKHERE_IFNOMAPSMATCH}}">
	</div>
	
	<input type="hidden" value="{{$msAction}}" name="msAction">
</form>
{{* ################################ END form ################################ *}}
